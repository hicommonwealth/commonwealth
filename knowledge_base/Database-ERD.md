# Autogenerated Mermaid ERD

Last updated: Thu Jan 18 12:22:13 EST 2024

```mermaid
erDiagram
  Addresses }|..|| Communities : Addresses_community_id_fkey
  Addresses }|..|| Users : Addresses_user_id_fkey
  Bans }|..|| Communities : Bans_community_id_fkey
  Communities }|..|| ChainNodes : Chains_chain_node_id_fkey
  Communities }|..|| DiscordBotConfig : Chains_discord_config_id_fkey
  Collaborations }|..|| Addresses : Collaborations_address_id_fkey
  Collaborations }|..|| Threads : Collaborations_offchain_thread_id_fkey
  Comments }|..|| Addresses : Comments_address_id_fkey
  Comments }|..|| Threads : Comments_thread_id_fkey
  CommunityBanners }|..|| Communities : CommunityBanners_community_id_fkey
  CommunityContracts }|..|| Communities : CommunityContracts_community_id_fkey
  CommunityContracts }|..|| Contracts : CommunityContracts_contract_id_fkey
  Contracts }|..|| ContractAbis : Contracts_abi_id_fkey
  Contracts }|..|| ChainNodes : Contracts_chain_node_id_fkey
  DiscordBotConfig }|..|| Communities : DiscordBotConfig_community_id_fkey
  EvmEventSources }|..|| ChainNodes : EvmEventSources_chain_node_id_fkey
  Groups }|..|| Communities : Groups_chain_id_fkey
  LastProcessedEvmBlocks }|..|| ChainNodes : LastProcessedEvmBlocks_chain_node_id_fkey
  Memberships }|..|| Addresses : Memberships_address_id_fkey
  Memberships }|..|| Groups : Memberships_group_id_fkey
  NotificationsRead }|..|| Users : NotificationsRead_user_id_fkey
  Notifications }|..|| NotificationCategories : Notifications_category_id_fkey
  Polls }|..|| Communities : OffchainPolls_chain_id_fkey
  Polls }|..|| Threads : OffchainPolls_thread_id_fkey
  Reactions }|..|| Comments : Reactions_comment_id_fkey
  Reactions }|..|| Threads : Reactions_thread_id_fkey
  SsoTokens }|..|| Profiles : SsoTokens_profile_id_fkey
  Subscriptions }|..|| NotificationCategories : Subscriptions_category_id_fkey
  Subscriptions }|..|| Users : Subscriptions_subscriber_id_fkey
  Template }|..|| Communities : Template_created_for_community_fkey
  Threads }|..|| Addresses : Threads_author_id_fkey
  Users }|..|| Communities : Users_selected_community_id_fkey
  Votes }|..|| Polls : Votes_poll_id_fkey
  Webhooks }|..|| Communities : Webhooks_community_id_fkey
  Notifications }|..|| Communities : Notifications_community_id_fkey
  CommunityContractTemplate {
    integer cctmd_id PK
    integer community_contract_id PK
    integer template_id PK
    integer id PK
  }
  Comments {
    character-varying(255) community_id 
    character-varying(255) parent_id 
    integer address_id 
    text text 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    timestamp-with-time-zone deleted_at 
    character-varying(255) root_id 
    text plaintext 
    tsvector _search 
    jsonb canvas_action 
    jsonb canvas_session 
    character-varying(255) canvas_hash 
    integer thread_id 
    character-varying(255) created_by 
    timestamp-with-time-zone marked_as_spam_at 
    jsonb discord_meta 
    text[] version_history 
    integer reaction_count 
    integer id PK
  }
  Bans {
    character-varying(255) address 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  SnapshotSpaces {
    character-varying(255) snapshot_space PK
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
  }
  Contracts {
    character-varying(255) address 
    integer chain_node_id 
    integer abi_id 
    integer decimals 
    character-varying(255) token_name 
    character-varying(255) symbol 
    character-varying(255) type 
    timestamp-with-time-zone created_at 
    integer id PK
    timestamp-with-time-zone updated_at 
    character-varying(255) nickname 
    boolean is_factory 
  }
  DiscordBotConfig {
    character-varying(255) bot_id 
    character-varying(255) community_id 
    character-varying(255) guild_id 
    character-varying(255) snapshot_channel_id 
    character-varying(255) verification_token 
    timestamp-with-time-zone token_expiration 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    boolean verified 
    integer id PK
  }
  SequelizeMeta {
    character-varying(255) name PK
  }
  NotificationsRead {
    integer notification_id PK
    integer subscription_id PK
    boolean is_read 
    integer user_id 
  }
  Votes {
    character-varying(255) option 
    character-varying(255) address 
    character-varying(255) author_community_id 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer poll_id 
    integer id PK
  }
  Memberships {
    integer group_id 
    integer address_id 
    jsonb reject_reason 
    timestamp-with-time-zone last_checked 
    integer id 
  }
  ChainNodes {
    character-varying(255) url 
    integer eth_chain_id 
    character-varying(255) alt_wallet_url 
    character-varying(255) private_url 
    character-varying(255) balance_type 
    character-varying(255) name 
    character-varying(255) description 
    integer ss58 
    character-varying(255) bech32 
    character-varying(255) cosmos_chain_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Template {
    integer abi_id 
    character-varying(255) name 
    jsonb template 
    character-varying(255) created_by 
    character-varying(255) description 
    character-varying(255) created_for_community 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Reactions {
    character-varying(255) community_id 
    integer address_id 
    character-varying(255) reaction 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer thread_id 
    integer comment_id 
    character-varying(255) proposal_id 
    jsonb canvas_action 
    jsonb canvas_session 
    character-varying(255) canvas_hash 
    integer id PK
  }
  StarredCommunities {
    integer user_id 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Communities {
    character-varying(255) id PK
    character-varying(255) name 
    character-varying(255) default_symbol 
    character-varying(255) icon_url 
    character-varying(255) description 
    character-varying(255) block_explorer_ids 
    integer ss58_prefix 
    character-varying(255) custom_domain 
    jsonb substrate_spec 
    character-varying(255) stages_enabled 
    character-varying(255) terms 
    character-varying(255) bech32_prefix 
    boolean default_summary_view 
    boolean admin_only_polling 
    integer chain_node_id 
    character-varying(255) token_name 
    boolean ce_verbose 
    boolean hide_projects 
    integer discord_config_id 
    character-varying(255) default_page 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    jsonb category 
    integer directory_page_chain_node_id 
    character-varying(255) namespace 
    boolean active 
    character-varying(255) network 
    character-varying(255) type 
    boolean collapsed_on_homepage 
    character-varying(255) base 
    character-varying(255) custom_stages 
    boolean has_chain_events_listener 
    character-varying(255) has_homepage 
    boolean discord_bot_webhooks_enabled 
    boolean directory_page_enabled 
    character-varying(255)[] social_links 
  }
  SsoTokens {
    integer issued_at 
    character-varying(255) issuer 
    integer address_id 
    character-varying(255) state_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer profile_id 
    integer id PK
  }
  Polls {
    character-varying(255) community_id 
    integer thread_id 
    character-varying(255) prompt 
    character-varying(255) options 
    timestamp-with-time-zone ends_at 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Groups {
    character-varying(255) community_id 
    json metadata 
    json requirements 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  CommunitySnapshotSpaces {
    character-varying(255) snapshot_space_id 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Addresses {
    character-varying(255) address 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer user_id 
    character-varying(255) verification_token 
    timestamp-with-time-zone verification_token_expires 
    timestamp-with-time-zone verified 
    character-varying(255) keytype 
    timestamp-with-time-zone last_active 
    boolean ghost_address 
    integer profile_id 
    character-varying(255) wallet_id 
    character-varying(255) block_info 
    character-varying(255) wallet_sso_source 
    character-varying(64) hex 
    boolean is_councillor 
    boolean is_validator 
    boolean is_user_default 
    enum_Addresses_role role 
    integer id PK
  }
  CommunityContracts {
    character-varying(255) community_id 
    integer contract_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
  Threads {
    integer address_id 
    text title 
    text body 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    timestamp-with-time-zone deleted_at 
    character-varying(255) kind 
    text url 
    integer topic_id 
    text plaintext 
    boolean has_poll 
    timestamp-with-time-zone last_commented_on 
    tsvector _search 
    jsonb canvas_action 
    jsonb canvas_session 
    character-varying(255) canvas_hash 
    jsonb links 
    timestamp-with-time-zone last_edited 
    timestamp-with-time-zone locked_at 
    character-varying(255) created_by 
    timestamp-with-time-zone marked_as_spam_at 
    timestamp-with-time-zone archived_at 
    jsonb discord_meta 
    character-varying(255) community_id 
    boolean pinned 
    text[] version_history 
    boolean read_only 
    text stage 
    integer view_count 
    integer comment_count 
    integer reaction_count 
    integer max_notif_id 
    integer id PK
  }
  Topics {
    character-varying(255) name 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    timestamp-with-time-zone deleted_at 
    character-varying(255) community_id 
    character-varying(255) telegram 
    text default_offchain_template 
    integer order 
    character-varying(255) channel_id 
    text description 
    boolean featured_in_sidebar 
    boolean featured_in_new_post 
    integer[] group_ids 
    integer id PK
  }
  LastProcessedEvmBlocks {
    integer chain_node_id PK
    integer block_number 
  }
  NotificationCategories {
    character-varying(255) name PK
    text description 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
  }
  Profiles {
    integer user_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    character-varying(255) profile_name 
    character-varying(255) email 
    character-varying(255) website 
    text bio 
    character-varying(255) avatar_url 
    character-varying(255) slug 
    character-varying(255)[] socials 
    jsonb background_image 
    integer id PK
  }
  EvmEventSources {
    integer chain_node_id 
    character-varying(255) contract_address 
    character-varying(255) event_signature 
    character-varying(255) kind 
    integer id PK
  }
  Notifications {
    text notification_data 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer chain_event_id 
    character-varying(255) category_id 
    integer entity_id 
    integer thread_id 
    integer id PK
    character-varying(255) community_id 
  }
  ContractAbis {
    jsonb abi 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    character-varying(255) nickname 
    text abi_hash 
    boolean verified 
    integer id PK
  }
  Collaborations {
    integer thread_id 
    integer address_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
  }
  Users {
    character-varying(255) email 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    boolean emailVerified 
    character-varying(255) selected_community_id 
    boolean isAdmin 
    boolean disableRichText 
    character-varying(255) emailNotificationInterval 
    integer id PK
  }
  Webhooks {
    character-varying(255) url 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    character-varying(255)[] categories 
    integer id PK
  }
  LoginTokens {
    character-varying(255) token 
    character-varying(255) email 
    timestamp-with-time-zone expires 
    timestamp-with-time-zone used 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    character-varying(255) redirect_path 
    character-varying(255) domain 
    integer id PK
  }
  Sessions {
    character-varying(255) sid PK
    timestamp-with-time-zone expires 
    text data 
    timestamp-with-time-zone createdAt 
    timestamp-with-time-zone updatedAt 
  }
  Subscriptions {
    integer subscriber_id 
    character-varying(255) category_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer thread_id 
    integer comment_id 
    character-varying(255) snapshot_id 
    integer id PK
    boolean is_active 
    boolean immediate_email 
    character-varying(255) community_id 
  }
  CommunityContractTemplateMetadata {
    character-varying(255) slug 
    character-varying(255) nickname 
    character-varying(255) display_name 
    character-varying(255) enabled_by 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    enum_CommunityContractTemplateMetadata_display_options display_options 
    integer id PK
  }
  SnapshotProposals {
    character-varying(255) id PK
    character-varying(255) title 
    text body 
    character-varying(255)[] choices 
    character-varying(255) space 
    character-varying(255) event 
    character-varying(255) start 
    character-varying(255) expire 
    timestamp-with-time-zone createdAt 
    timestamp-with-time-zone updatedAt 
    boolean is_upstream_deleted 
  }
  CommunityBanners {
    text banner_text 
    character-varying(255) community_id 
    timestamp-with-time-zone created_at 
    timestamp-with-time-zone updated_at 
    integer id PK
  }
```
