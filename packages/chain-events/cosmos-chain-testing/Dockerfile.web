# Use the official Nginx image as a base
FROM nginx

# Copy the Nginx configuration file
COPY nginx-web.conf /etc/nginx/nginx.conf

# Expose the port Nginx will listen on
EXPOSE $PORT
RUN mkdir -p /run/nginx && sed -i "s/listen\ 80;/listen\ ${PORT:=5050};/" /etc/nginx/nginx.conf

# Start Nginx
CMD ["nginx", "-g", "daemon off;"]